generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model teams {
  tuid             String          @default("") @id
  name             String          @default("")
  protected        Boolean
  handle           String          @default("")
  avatar           String          @default("")
  reviews_required String          @default("")
  plan             String          @default("")
  token_secret     String          @default("")
  token_key        String          @default("")
  invite_code      String          @default("")
  updated_at       DateTime        @default(now())
  created_at       DateTime        @default(now())
  created_by       String?
  teams_members    teams_members[]
  tweets           tweets[]
}

model teams_members {
  uid   String @default("")
  tuid  String @default("")
  role  String @default("member")
  teams teams  @relation(fields: [tuid], references: [tuid])
  users users  @relation(fields: [uid], references: [uid])

  @@id([uid, tuid])
  @@index([tuid], name: "tuid")
}

model tweets {
  twuid              String             @default("") @id
  tuid               String
  title              String
  type               String
  text               String
  created_at         DateTime           @default(now())
  created_by         String
  updated_at         DateTime           @default(now())
  retweets           String
  replies            String
  favorites          String
  metrics_updated_at DateTime?          @default(now())
  tweet_id           String
  teams              teams              @relation(fields: [tuid], references: [tuid])
  approvals          tweets_approvals[]
  comments           tweets_comments[]
  metadata           tweets_meta

  @@index([tuid], name: "tuid")
}

model tweets_approvals {
  tauid  String
  twuid  String
  uid    String?
  tweets tweets  @relation(fields: [twuid], references: [twuid])

  @@id([tauid, twuid])
  @@index([twuid], name: "twuid")
}

model tweets_comments {
  tcuid    String   @id
  twuid    String
  added_at DateTime @default(now())
  added_by String
  comment  String
  tweets   tweets   @relation(fields: [twuid], references: [twuid])

  @@index([twuid], name: "twuid")
}

model tweets_meta {
  twmuid                      String   @default("") @id
  twuid                       String?
  og_url                      String?
  og_type                     String?
  og_title                    String?
  og_img                      String?
  og_description              String?
  canonical                   String?
  twitter_site_title          String?
  twitter_site_id             String?
  twitter_site                String?
  twitter_player_width        String?
  twitter_player_stream       String?
  twitter_player_height       String?
  twitter_player              String?
  twitter_img_src             String?
  twitter_img_alt             String?
  twitter_img                 String?
  twitter_domain              String?
  twitter_description         String?
  twitter_creator_id          String?
  twitter_creator             String?
  twitter_card                String?
  twitter_app_url_ipad        String?
  twitter_app_id_ipad         String?
  twitter_app_name_ipad       String?
  twitter_app_url_iphone      String?
  twitter_app_id_iphone       String?
  twitter_app_name_iphone     String?
  twitter_app_url_googleplay  String?
  twitter_app_id_googleplay   String?
  twitter_app_name_googleplay String?
  twitter_title               String?
  cardType                    String?
  fallbackImg                 Boolean?
  url                         String?
  tweets                      tweets?  @relation(fields: [twuid], references: [twuid])

  @@index([twuid], name: "twuid")
}

model users {
  uid           String          @default("") @id
  email         String          @default("")
  name          String          @default("")
  picture       String          @default("")
  created_at    DateTime        @default(now())
  updated_at    DateTime        @default(now())
  teams_members teams_members[]
}
