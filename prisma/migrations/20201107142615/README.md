# Migration `20201107142615`

This migration has been generated by mcsdevv at 11/7/2020, 2:26:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."approvals" ADD COLUMN "state" text   NOT NULL DEFAULT E'requested'

ALTER TABLE "public"."tweets" ALTER COLUMN "updated_at" DROP DEFAULT

ALTER TABLE "public"."users" ALTER COLUMN "updated_at" DROP DEFAULT

CREATE INDEX "teams.handle_index" ON "public"."teams"("handle")

ALTER INDEX "public"."teams.handle_index" RENAME TO "teams.handle_unique"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201102004844-add-state-to-approvals..20201107142615
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model teams {
   tuid            String    @id @default("")
@@ -36,9 +36,9 @@
   type             String
   text             String
   createdAt        DateTime    @default(now()) @map("created_at")
   createdBy        String      @map("created_by")
-  updatedAt        DateTime    @default(now()) @map("updated_at")
+  updatedAt        DateTime    @updatedAt @map("updated_at")
   metricsUpdatedAt DateTime    @default(now()) @map("metrics_updated_at")
   tweetId          String      @map("tweet_id")
   retweets         Int
   replies          Int
@@ -114,9 +114,9 @@
   email     String     @unique @default("")
   name      String     @default("")
   picture   String     @default("")
   createdAt DateTime   @default(now()) @map("created_at")
-  updatedAt DateTime   @default(now()) @map("updated_at")
+  updatedAt DateTime   @updatedAt @map("updated_at")
   comments  comments[]
   members   members[]
   teams     teams[]
   tweets    tweets[]
```


